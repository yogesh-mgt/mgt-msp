<?php
 namespace Mgt\Varnish\Model\ResourceModel; class Url extends \Magento\Framework\Model\ResourceModel\Db\AbstractDb { protected function _construct() { $this->_init("\155\147\164\x5f\166\x61\162\156\151\163\150\x5f\x75\x72\x6c", "\165\162\154\137\x69\144"); } public function loadByStoreIdAndPath($object, $storeId, $path) { goto Cbc1e; Bf62b: $select = $connection->select()->from(["\155\147\x74\x76\165" => $this->getMainTable()])->where("\x6d\x67\x74\x76\165\x2e\x73\x74\x6f\x72\x65\137\151\x64\75\x3f", $storeId)->where("\x6d\x67\164\x76\165\56\160\141\164\150\x3d\77", $path)->limit(1); goto c1cb8; A3f03: $object->setData($data); goto b4bc0; aac92: $this->_afterLoad($object); goto F3102; b4bc0: a1f27: goto aac92; f4747: if (!$data) { goto a1f27; } goto A3f03; F3102: return $this; goto a48df; c1cb8: $data = $connection->fetchRow($select); goto f4747; Cbc1e: $connection = $this->getConnection(); goto Bf62b; a48df: } public function saveTags($object, array $tags) { goto cb34f; c58ba: Cec02: goto D1fa3; f9290: foreach ($tags as $tag) { $data[] = ["\165\162\x6c\x5f\151\144" => $urlId, "\x74\x61\x67" => $tag]; Ed37b: } goto E73b1; cb34f: if (!count($tags)) { goto Cec02; } goto Ae50d; d40d6: $urlId = $object->getId(); goto b9b1d; Ae50d: $connection = $this->getConnection(); goto d40d6; b9b1d: $data = []; goto f9290; bd0c4: $connection->insertMultiple($tagTable, $data); goto c58ba; E73b1: c091a: goto B569e; B569e: $tagTable = $this->getTable("\155\x67\x74\137\166\141\x72\156\151\163\x68\x5f\165\162\154\137\164\x61\x67"); goto bd0c4; D1fa3: } public function deleteExpiredUrls() { goto b943f; d027b: $now = $now->format("\131\x2d\x6d\x2d\144\40\110\72\151\72\x73"); goto Ce2d1; b943f: $now = new \DateTime("\x6e\x6f\167", new \DateTimeZone("\125\x54\103")); goto d027b; Ce2d1: $table = $this->getTable("\x6d\x67\164\137\x76\x61\x72\x6e\x69\163\150\x5f\x75\x72\x6c"); goto deae0; deae0: $connection = $this->getConnection(); goto c5b4a; c5b4a: $connection->delete($table, ["\x63\x61\x63\x68\x65\x5f\145\x78\x70\151\162\x65\144\137\141\164\40\x3c\x20\x3f" => $now]); goto e1631; e1631: } }
