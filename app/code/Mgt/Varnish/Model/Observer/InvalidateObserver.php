<?php
 namespace Mgt\Varnish\Model\Observer; use Magento\Framework\Event\ObserverInterface; class InvalidateObserver implements ObserverInterface { protected $config; protected $purgeCache; public function __construct(\Magento\PageCache\Model\Config $config, \Magento\CacheInvalidate\Model\PurgeCache $purgeCache) { $this->config = $config; $this->purgeCache = $purgeCache; } public function execute(\Magento\Framework\Event\Observer $observer) { goto B4298; B4298: $cacheType = $this->config->getType(); goto Fb90c; e2f27: $object = $observer->getEvent()->getObject(); goto E12af; Efdc5: $tags = $object->getIdentities(); goto E6f5b; E12af: if (!$object instanceof \Magento\Framework\DataObject\IdentityInterface) { goto e6cdf; } goto Efdc5; E2cb4: e6cdf: goto ca053; D0dc3: if (!($cacheType == \Magento\PageCache\Model\Config::VARNISH && true === $isFpcEnabled)) { goto b3f78; } goto e2f27; b1fb8: Acfc4: goto E2cb4; E6f5b: if (!count($tags)) { goto Acfc4; } goto fd37b; fd37b: $this->purgeCache->sendPurgeRequest($tags); goto b1fb8; ca053: b3f78: goto afae3; Fb90c: $isFpcEnabled = $this->config->isEnabled(); goto D0dc3; afae3: } }
